\documentclass{article}

\usepackage[margin=0.5in]{geometry}

\input{prelude}

\title{PDX -- Beer, bikes, and refactoring of dependently typed programs}

\begin{document}
\maketitle

\begin{figure}[h]
\caption{Weak head normal form}

$$
\infer
  []
  {\whnf{\app{f}{a}}{b'}}
{
  \whnf{f}{\lam{x}{A}{b}}
  &
  \whnf{a}{a'}
  &
  \whnf{\sub{b}{x}{a'}}{b'}
}
$$

$$
\infer
  []
  {\whnf{\con{elimD}~(\con{c}_i~\vec{a})~P~\vec{m}}{p}}
{
  i \leq |\vec{m}|
  &
  \whnf{m_i~\vec{a}~\vec{r}}{p}
}
$$


$$
\infer
  []
  {\whnf{x}{a'}}
{
  \Sigma_1, \sigd{x}{A}{a}, \Sigma_2
  &
  \whnf{a}{a'}
}
$$

\end{figure}

\begin{figure}[h]
\caption{Conversion}

$$
\infer
  []
  {\conv{a}{a'}}
{
  \whnf{a}{a'}
}
$$

$$
\infer
  []
  {\conv{x}{a}}
{
  \Sigma_1, \sigr{x}{A}{a}, \Sigma_2
}
$$

$$
\infer
  []
  {\conv{a}{a}}
{
}
\quad
\infer
  []
  {\conv{a}{b}}
{
  \conv{b}{a}
}
\quad
\infer
  []
  {\conv{a}{c}}
{
  \conv{a}{b}
  &
  \conv{b}{c}
}
$$

$$
\infer
  []
  {\conv{\lam{x}{A_1}{b_1}}{\lam{x}{A_2}{b_2}}}
{
  \conv{A_1}{A_2}
  &
  \conv{b_1}{b_2}
}
\quad
\infer
  []
  {\conv{\pie{x}{A_1}{B_1}}{\pie{x}{A_2}{B_2}}}
{
  \conv{A_1}{A_2}
  &
  \conv{B_1}{B_2}
}
$$

%% TODO conversion rules

\end{figure}

\begin{figure}[h]
\caption{Type synthesis and checking}

$$
\infer
  []
  {\synthG{\lam{x}{A}{b}}{\pie{x}{A}{B}}}
{
  \synth{\Gamma, x : A}{b}{B}
}
\quad
\infer
  []
  {\synthG{\app{f}{a}}{\sub{B}{x}{a}}}
{
  \synthG{f}{\pie{x}{A}{B}}
  &
  \chekG{a}{A}
}
$$

$$
\infer
  []
  {\synthG{x}{A}}
{
  \Gamma_1, x : A, \Gamma_2
}
\quad
\infer
  []
  {\chekG{a}{A}}
{
  \synthG{a}{B}
  &
  \conv{A}{B}
}
$$

\end{figure}

\end{document}

%%% Local Variables:
%%% mode: pdflatex
%%% TeX-master: "spec"
%%% End:
